# CS06

# 요구사항

## 기능 요구사항
- 기능별 커밋(gist, CS16 repository)
- 단계 구분
  - 입력 -> 검증 -> 처리/계산 -> 형식 -> 출력
- 프로그램을 시작하면 King을 제외한 흑/백 체스말 초기화
- 입력
  - 말이 위치한 2자리 문자->이동하려는 위치의 2자리 문자
    - ```B2->B3```
    - 형식에 맞지 않으면 재입력
  - ?
    - ```?A1```
    - 이동할 수 있는 경우 모두 출력
- 상대 말을 잡은 경우 현재 체스판 점수 출력
- 이동 명령은 백색부터 시작, 흑과 백이 번갈아 입력
  - 입력할 때마다 체스판과 체스말 현황 출력


## 프로그래밍 요구사항

### 체스판 Board
- 책임: 체스판에 체스말(Piece) 존재 여부 관리
- 크기: 8x8 (가로 rank x 세로 file)
- 기능: 
  - ```...```
  - 현재 있는 말을 확인해 흑과 백 점수 계산
    - 색상별로 Pawn 1점, Bishop와 Knight 3점, Rook 5점, Queen은 9점

  - ```display()```
    - 모든 말의 위치를 간접적으로 알 수 있음
    - display()는 적절한 데이터 구조로 1-rank부터 8-rank까지 rank 전체를 리턴

  - ```...```
    - board에서 return한 데이터 구조를 바탕으로 출력 형식을 담당하는 객체에서 문자열 배열 바꾸고 체스판을 출력하도록 전달
      - 흑색 Pawn는 ♟ U+265F, Knight는 ♞ U+265E, Bishop은 ♝ U+265D, Rook는 ♜ U+265C, Queen은 ♛ U+265B를 빈 곳은 "."을 표시한다.
      - 백색 Pawn는 ♙ U+2659, Knight는 ♘ U+2658, Bishop은 ♗ U+2657, Rook는 ♖ U+2656, Queen은 ♕ U+2655를 빈 곳은 "."을 표시한다.
      - 예를 들어 초기화 상태에 Rook, Knight, Bishop, Queen이 있는 경우 1-rank는 "♜♞♝.♛♝♞♜" 가 된다.
      - 예상 출력 참고

  - ```initPiece(type, position)```
    - 특정 위치에 특정 말을 생성하는 메서드
      - 초기화 시 체스말 위치
        - black : 1,2-rank
        - white : 7,8-rank
      - 체스말 초기 위치가 아니면 생성하지 않음
      - 이미 해당 위치에 다른 말이 있으면 생성하지 않음
      - 체스말 종류별로 최대 개수보다 많이 생성할 수 없음
      - Pawn는 색상별로 8개, Knight, Bishop, Rook는 색상별로 2개, Queen는 색상별로 1개만 가능
      - 생성하지 않는 경우 exception 예외처리로 상위에서 어떤 예외상황인지 판단

  - ```setPiece(type, position)```
    - 특정 말을 생성하는 메서드
      - initPiece()와 다르게 체스말을 어느 위치에 놓아도 상관 없음
      - 이미 해당 위치에 다른 말이 있으면 생성하지 않음
      - 체스말 최대 개수도 고려하지 않음

  - ```move(from, to)```
    - 특정 말을 옮기는 메서드
      - 같은 색상의 말이 to 위치에 이미 있으면 옮길 수 없음
        - 말을 옮길 수 있으면 true, 없으면 false 리턴
      - 만약, 다른 색상의 말이 to 위치에 있는 경우 기존에 있던 말을 제거하고 이동
        - 다른 색상의 말을 제거한 경우 흑과 백 점수 출력

### 체스말 공통
- 체스말은 위치값을 Position 타입으로 가짐
  - 꼭 Position 값을 다루기 위한 데이터 구조를 별도로 만든다
  - Position은 file A~H, rank는 1~8까지 입력 가능
- 체스말은 흑Black 또는 백White 둘 중에 하나여야 함
  - 상태값으로 지정한다면 생성할 때 결정하고 변경할 수 없어야 함
  - 타입으로 구분한다면 다형성으로 동작하도록 함
- 기능:
  - ```possiblePositions()```
    - 현재 위치 position을 기준으로 이동할 수 있는 모든 위치 리턴
    - 다른 말이 있는지 여부는 판단하지 않음

### Pawn
- 생성 위치:
  - 흑 2-rank 만 가능
  - 백 7-rank 만 가능
- 백색은 더 작은 랭크로 이동 가능, 흑색은 더 큰 rank로 이동 가능
- 체스 게임과 달리 처음에도 1칸만 움직일 수 있고, 다른 말을 잡을 때도 대각선이 아니라 직선으로 움직일 때 잡는다고 가정
- Pawn이 상대편 Rank에 도착하면 같은 색 Queen으로 변신
  - 흑색 Pawn이 2-rank에서 시작해서 8-rank에 도착할 경우
  - 백색 Pawn이 7-rank에서 시작해서 1-rank에 도착할 경우

### Bishop
- 생성 위치:
  - 흑 C-1, F-1 만 가능
  - 백 C-8, F-8 만 가능
- 모든 색상이 놓여진 칸을 기준으로 대각선으로만 이동 가능

### Rook
- 생성 위치:
  - 흑 A-1, H-1 만 가능
  - 백 A-8, H-8 만 가능
- 모든 색상이 놓여진 칸을 기준으로 좌우 또는 위아래 방향으로 이동 가능

### Queen
- 생성 위치:
  - 흑 E-1 만 가능
  - 백 E-8 만 가능
- 모든 색상이 놓여진 칸을 기준으로 대각선이 좌우, 위아래 방향으로 이동 가능

### Knight
- 생성 위치:
  - 흑 B-1, G-1 만 가능
  - 백 B-8, G-8 만 가능
- 모든 색상이 놓여진 칸을 기준으로 전진1칸+대각선1칸으로만 이동 가능
- 체스 게임과 달리 전진하는 칸이 막혀있으면 이동 불가